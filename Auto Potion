 if (character.mp / character.max_mp < 0.5)
  {
	if(parent.use('mp')<=100)
		buy_mp();
        parent.use('mp');
  }
	else
	{
		parent.use('mp');
	}
